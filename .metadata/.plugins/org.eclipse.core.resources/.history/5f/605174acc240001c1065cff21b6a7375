#include <stdio.h>

int main() {
	int id, defeito, quantidade = 0,
	necessita_esfera = 0, necessita_limpeza = 0, necessita_cabo = 0, quebrado = 0;
	float perc_esfera, perc_limpeza, perc_cabo, perc_quebrado;


	printf("Digite o id do mouse ou 0 para encerrar: ");
	fflush(stdout);
	scanf("%d", &id);

	while (id != 0) {

		printf("Identifique o defeito:\n"
				"1 = necessita de esfera\n"
				"2 = necessita de limpeza\n"
				"3 = necessita de troca de cabo ou conector\n"
				"4 = quebrado ou inutilizado\n\n"
				"Digite o defeito: ");
		fflush(stdout);
		scanf("%d", &defeito);

		if (defeito == 1) {
			necessita_esfera += 1;
			quantidade += 1;
		} else if (defeito == 2) {
			necessita_limpeza += 1;
			quantidade += 1;
		} else if (defeito == 3) {
			necessita_cabo += 1;
			quantidade += 1;
		} else if (defeito == 4) {
			quebrado += 1;
			quantidade += 1;
		} else {
			printf("Entrada inválida");
		}

		printf("Digite o id do mouse ou 0 para encerrar: ");
		fflush(stdout);
		scanf("%d", &id);
	}

	perc_esfera = quantidade / necessita_esfera;
	perc_limpeza = quantidade / necessita_limpeza;
	perc_cabo = quantidade / necessita_cabo;
	perc_quebrado = quantidade / quebrado;

	printf("Quantidade de mouses: %d\n\n", quantidade);
	printf("Situação                           Quantidade          Percentual\n");
	printf("1 - Necessita de esfera                %d                    %.2f\n", necessita_esfera, perc_esfera);
	printf("2 - Necessita de limpeza               %d                    %.2f\n", necessita_limpeza, perc_limpeza);
	printf("3 - Necessita de cabo                  %d                    %.2f\n", necessita_cabo, perc_cabo);
	printf("4 - Quebrado                           %d                    %.2f\n", quebrado, perc_quebrado);

}
